<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<!-- 전체 게시글 조회 -->
	<entry key="listCount">
		SELECT COUNT(*) COUNT
		FROM BOARD
		WHERE STATUS = 'Y'
	</entry>
	
	<!-- 전체게시글 조회 -->
	<entry key="selectAllList">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
					FROM (SELECT BOARD_NO
											,BOARD_TITLE
											,USER_ID
											,COUNT
											,B.CREATE_DATE
											FROM BOARD B
								JOIN MEMBER M USING (USER_NO)
								WHERE B.STATUS = 'Y'
								ORDER BY BOARD_NO DESC) A
		)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<!-- 공지게시글 조회 -->
	<entry key="selectNList">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
					FROM (SELECT BOARD_NO
									,BOARD_TITLE
									,USER_ID
									,COUNT
									,B.CREATE_DATE
									FROM BOARD B
								JOIN MEMBER M USING (USER_NO)
								WHERE B.STATUS = 'Y'
								AND BOARD_TYPE=1
								ORDER BY BOARD_NO DESC) A
		)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	<!-- 자유게시글 조회 -->
	<entry key="selectFList">
		SELECT *
		FROM (SELECT ROWNUM RNUM, A.*
					FROM (SELECT BOARD_NO
											,BOARD_TITLE
											,USER_ID
											,COUNT
											,B.CREATE_DATE
											FROM BOARD B
											JOIN MEMBER M USING (USER_NO)
											WHERE B.STATUS = 'Y'
											AND BOARD_TYPE=2
											ORDER BY BOARD_NO DESC) A
					)
		WHERE RNUM BETWEEN ? AND ?
	</entry>
	

	<entry key="increaseCount">
		UPDATE BOARD
		SET COUNT = COUNT+1
		WHERE BOARD_NO=?
		AND STATUS = 'Y'
	</entry>

	<entry key="insertBoard">
		INSERT INTO BOARD(BOARD_NO
										, BOARD_TYPE
										, BOARD_TITLE
										, BOARD_CONTENT
										, BOARD_WRITER)
		VALUES(SEQ_BNO.NEXTVAL
						,1
						,?
						,?
						,?
						,?)
	</entry>

	<entry key="detailBoard">
		SELECT BOARD_TITLE
					,USER_ID
					,BOARD_CONTENT
					,B.CREATE_DATE
					,COUNT
		FROM BOARD B
		JOIN MEMBER M USING(USER_NO)
		WHERE BOARD_NO = ?
		AND B.STATUS = 'Y'
	</entry>

	<entry key="selectAttachment">
		SELECT FILE_NO
					, ORIGIN_NAME
					, CHANGE_NAME
					, FILE_PATH
		FROM BOARD_ATTACHMENT
		WHERE BOARD_NO = ?
	</entry>

	<entry key="insertBoard">
		INSERT INTO BOARD VALUES (SEQ_BNO.NEXTVAL, ?, 2, ?, ?, DEFAULT, SYSDATE, DEFAULT)
	</entry>

	<entry key="insertAttachment">
		INSERT INTO BOARD_ATTACHMENT(FILE_NO
																	,BOARD_NO
																	,ORIGIN_NAME
																	,CHANGE_NAME
																	,FILE_PATH)
													VALUES(SEQ_BANO.NEXTVAL
													,SEQ_BNO.CURRVAL
													,?
													,?
													,?)
	</entry>

	<entry key="insertNotice">
		INSERT INTO BOARD VALUES (SEQ_BNO.NEXTVAL, ?, 1, ?, ?, DEFAULT, SYSDATE, DEFAULT)
	</entry>
</properties>
